/*! admin-lte 2022-03-24 22:05:56 */
!function(){function u(t,i){return function(){return t.apply(i,arguments)}}function t(t,i){for(var s in i)o.call(i,s)&&(t[s]=i[s]);function e(){this.constructor=t}e.prototype=i.prototype,t.prototype=new e,t.__super__=i.prototype}var z,s,i,e,r=[].slice,o={}.hasOwnProperty,v=[].indexOf||function(t){for(var i=0,s=this.length;i<s;i++)if(i in this&&this[i]===t)return i;return-1};function n(){}function h(t){if(this.setLabels=u(this.setLabels,this),this.hasToShow=u(this.hasToShow,this),this.debouncedResizeHandler=u(this.debouncedResizeHandler,this),this.resizeHandler=u(this.resizeHandler,this),this.mouseupHandler=u(this.mouseupHandler,this),this.mousedownHandler=u(this.mousedownHandler,this),this.clickHandler=u(this.clickHandler,this),this.touchHandler=u(this.touchHandler,this),this.mouseleaveHandler=u(this.mouseleaveHandler,this),this.mousemoveHandler=u(this.mousemoveHandler,this),"string"==typeof t.element?this.el=document.getElementById(t.element):this.el=t.element[0]||t.element,null==this.el)throw new Error("Graph container element not found");"static"===z.css(this.el,"position")&&(this.el.style.position="relative"),this.options=z.extend({},this.gridDefaults,this.defaults||{},t),"string"==typeof this.options.units&&(this.options.postUnits=t.units),this.raphael=new Raphael(this.el),this.elementWidth=null,this.elementHeight=null,this.dirty=!1,this.selectFrom=null,this.init&&this.init(),this.setData(this.options.data),z.on(this.el,"mousemove",this.mousemoveHandler),z.on(this.el,"mouseleave",this.mouseleaveHandler),z.on(this.el,"touchstart touchmove touchend",this.touchHandler),z.on(this.el,"click",this.clickHandler),this.options.rangeSelect&&(this.selectionRect=this.raphael.rect(0,0,0,z.innerDimensions(this.el).height).attr({fill:this.options.rangeSelectColor,stroke:!1}).toBack().hide(),z.on(this.el,"mousedown",this.mousedownHandler),z.on(this.el,"mouseup",this.mouseupHandler)),this.options.resize&&z.on(window,"resize",this.resizeHandler),this.el.style.webkitTapHighlightColor="rgba(0,0,0,0)",this.postInit&&this.postInit()}function a(t){this.options=z.extend({},z.Hover.defaults,t=null==t?{}:t),this.el=document.createElement("div"),this.el.className=this.options.class,this.el.style.display="none",(this.options.parent=this.options.parent[0]||this.options.parent).appendChild(this.el)}function l(t){if(this.hilight=u(this.hilight,this),this.onHoverOut=u(this.onHoverOut,this),this.onHoverMove=u(this.onHoverMove,this),this.onGridClick=u(this.onGridClick,this),!(this instanceof z.Line))return new z.Line(t);l.__super__.constructor.call(this,t)}function p(t){if(!(this instanceof z.Area))return new z.Area(t);t=z.extend({},i,t),this.cumulative=!t.behaveLikeLine,"auto"===t.fillOpacity&&(t.fillOpacity=t.behaveLikeLine?.8:1),p.__super__.constructor.call(this,t)}function d(t){if(this.onHoverOut=u(this.onHoverOut,this),this.onHoverMove=u(this.onHoverMove,this),this.onGridClick=u(this.onGridClick,this),!(this instanceof z.Bar))return new z.Bar(t);d.__super__.constructor.call(this,z.extend({},t,{parseTime:!1}))}function c(t){var i,s;if(this.debouncedResizeHandler=u(this.debouncedResizeHandler,this),this.resizeHandler=u(this.resizeHandler,this),this.deselect=u(this.deselect,this),this.select=u(this.select,this),this.click=u(this.click,this),!(this instanceof z.Donut))return new z.Donut(t);if(this.options=z.extend({},this.defaults,t),"string"==typeof t.element?this.el=document.getElementById(t.element):this.el=t.element[0]||t.element,null===this.el)throw new Error("Graph placeholder not found.");if(this.raphael=new Raphael(this.el),void 0===t.data||0===t.data.length)return i=(s=z.dimensions(this.el)).width,s=s.height,void this.raphael.text(i/2,s/2,this.options.noDataLabel).attr("text-anchor","middle").attr("font-size",this.options.noDataLabelSize).attr("font-family",this.options.dataLabelsFamily).attr("font-weight",this.options.noDataLabelWeight).attr("fill",this.options.dataLabelsColor);this.options.resize&&z.on(window,"resize",this.resizeHandler),this.setData(t.data)}function y(t,i,s,e,o,n,h,r,a,l,p){this.cx=t,this.cy=i,this.inner=s,this.outer=e,this.color=h,this.backgroundColor=r,this.index=a,this.raphael=l,this.options=p,this.deselect=u(this.deselect,this),this.select=u(this.select,this),this.sin_p0=Math.sin(o),this.cos_p0=Math.cos(o),this.sin_p1=Math.sin(n),this.cos_p1=Math.cos(n),this.is_long=n-o>Math.PI?1:0,void 0===this.options.data[this.index].ratio&&(this.options.data[this.index].ratio=1),s=this.inner*this.options.data[this.index].ratio,this.path=this.calcSegment(s+3,s+this.outer-5),this.selectedPath=this.calcSegment(s+3,s+this.outer),this.hilight=this.calcArc(s)}z=window.Morris={},s=function(t){return getComputedStyle?getComputedStyle(t,null):t.currentStyle||t.style},z.EventEmitter=(n.prototype.on=function(t,i){return null==this.handlers&&(this.handlers={}),null==this.handlers[t]&&(this.handlers[t]=[]),this.handlers[t].push(i),this},n.prototype.fire=function(){var t,i,s,e,o,n=arguments[0],h=2<=arguments.length?r.call(arguments,1):[];if(null!=this.handlers&&null!=this.handlers[n]){for(o=[],i=0,s=(e=this.handlers[n]).length;i<s;i++)t=e[i],o.push(t.apply(null,h));return o}},n),z.commas=function(t){var i,s;return null!=t?(s=t<0?"-":"",t=Math.abs(t),s+=(i=Math.floor(t).toFixed(0)).replace(/(?=(?:\d{3})+$)(?!^)/g,","),(t=t.toString()).length>i.length&&(s+=t.slice(i.length)),s):"-"},z.pad2=function(t){return(t<10?"0":"")+t},z.extend=function(){var t,i,s,e,o,n=arguments[0],h=2<=arguments.length?r.call(arguments,1):[];for(null==n&&(n={}),e=0,o=h.length;e<o;e++)if(null!=(i=h[e]))for(t in i)s=i[t],i.hasOwnProperty(t)&&(n[t]=s);return n},z.offset=function(t){t=t.getBoundingClientRect();return{top:t.top+document.body.scrollTop,left:t.left+document.body.scrollLeft}},z.css=function(t,i){return s(t)[i]},z.on=function(t,i,s){return t.addEventListener?t.addEventListener(i,s):t.attachEvent("on"+i,s)},z.off=function(t,i,s){return t.removeEventListener?t.removeEventListener(i,s):t.detachEvent("on"+i,s)},z.dimensions=function(t){t=s(t);return{width:parseInt(t.width),height:parseInt(t.height)}},z.innerDimensions=function(t){t=s(t);return{width:parseInt(t.width)+parseInt(t.paddingLeft)+parseInt(t.paddingRight),height:parseInt(t.height)+parseInt(t.paddingTop)+parseInt(t.paddingBottom)}},z.Grid=(e=z.EventEmitter,t(h,e),h.prototype.gridDefaults={dateFormat:null,axes:!0,freePosition:!1,grid:!0,gridIntegers:!1,gridLineColor:"#aaa",gridStrokeWidth:.5,gridTextColor:"#888",gridTextSize:12,gridTextFamily:"sans-serif",gridTextWeight:"normal",hideHover:"auto",yLabelFormat:null,yLabelAlign:"right",yLabelAlign2:"left",xLabelAngle:0,numLines:5,padding:25,parseTime:!0,postUnits:"",postUnits2:"",preUnits:"",preUnits2:"",ymax:"auto",ymin:"auto 0",ymax2:"auto",ymin2:"auto 0",regions:[],regionsColors:["#fde4e4"],goals:[],goals2:[],goalStrokeWidth:1,goalStrokeWidth2:1,goalLineColors:["red"],goalLineColors2:["red"],events:[],eventStrokeWidth:1,eventLineColors:["#005a04"],rangeSelect:null,rangeSelectColor:"#eef",resize:!0,dataLabels:!0,dataLabelsPosition:"outside",dataLabelsFamily:"sans-serif",dataLabelsSize:12,dataLabelsWeight:"normal",dataLabelsColor:"auto",animate:!0,nbYkeys2:0,smooth:!0},h.prototype.destroy=function(){if(z.off(this.el,"mousemove",this.mousemoveHandler),z.off(this.el,"mouseleave",this.mouseleaveHandler),z.off(this.el,"touchstart touchmove touchend",this.touchHandler),z.off(this.el,"click",this.clickHandler),this.options.rangeSelect&&(z.off(this.el,"mousedown",this.mousedownHandler),z.off(this.el,"mouseup",this.mouseupHandler)),this.options.resize)return window.clearTimeout(this.timeoutId),z.off(window,"resize",this.resizeHandler)},h.prototype.setData=function(e,t){var i,s,o,n,h,r,a,l,p,u,d,c,y,f,g,m,x,v,b,w,L;if(null==t&&(t=!0),null==(this.options.data=e)||0===e.length)return this.data=[],this.raphael.clear(),void(null!=this.hover&&this.hover.hide());if(y=this.cumulative?0:null,g=this.cumulative?0:null,f=this.cumulative?0:null,m=this.cumulative?0:null,0<this.options.goals.length&&(h=Math.min.apply(Math,this.options.goals),L=Math.max.apply(Math,this.options.goals),g=null!=g?Math.min(g,h):h,y=null!=y?Math.max(y,L):L),0<this.options.goals2.length&&(h=Math.min.apply(Math,this.options.goals2),L=Math.max.apply(Math,this.options.goals2),m=null!=m?Math.min(m,h):h,f=null!=f?Math.max(f,L):L),this.options.nbYkeys2>this.options.ykeys.length&&(this.options.nbYkeys2=this.options.ykeys.length),this.data=function(){var t,i,s=[];for(n=t=0,i=e.length;t<i;n=++t)a=e[n],(r={src:a}).label=a[this.options.xkey],this.options.parseTime?(r.x=z.parseDate(r.label),this.options.dateFormat?r.label=this.options.dateFormat(r.x):"number"==typeof r.label&&(r.label=new Date(r.label).toString())):(this.options.freePosition?r.x=parseFloat(a[this.options.xkey]):r.x=n,this.options.xLabelFormat&&(r.label=this.options.xLabelFormat(r))),d=0,r.y=function(){var t,i,s=this.options.ykeys,e=[];for(o=t=0,i=s.length;t<i;o=++t)x=s[o],null!=(x="string"==typeof(x=a[x])?parseFloat(x):x)&&"number"!=typeof x&&(x=null),o<this.options.ykeys.length-this.options.nbYkeys2?(null!=x&&this.hasToShow(o)&&(this.cumulative?d<0&&0<x?d=x:d+=x:null!=y?(y=Math.max(x,y),g=Math.min(x,g)):y=g=x),this.cumulative&&null!=d&&(y=Math.max(d,y),g=Math.min(d,g))):(null!=x&&this.hasToShow(o)&&(this.cumulative?d=x:null!=f?(f=Math.max(x,f),m=Math.min(x,m)):f=m=x),this.cumulative&&null!=d&&(f=Math.max(d,f),m=Math.min(d,m))),e.push(x);return e}.call(this),s.push(r);return s}.call(this),(this.options.parseTime||this.options.freePosition)&&(this.data=this.data.sort(function(t,i){return(t.x>i.x)-(i.x>t.x)})),this.xmin=this.data[0].x,this.xmax=this.data[this.data.length-1].x,this.events=[],0<this.options.events.length){if(this.options.parseTime)for(v=0,b=(w=this.options.events).length;v<b;v++)(i=w[v])instanceof Array?(s=i[0],u=i[1],this.events.push([z.parseDate(s),z.parseDate(u)])):this.events.push(z.parseDate(i));else this.events=this.options.events;h=this.events.map(function(t){return t}),this.xmax=Math.max(this.xmax,Math.max.apply(Math,h)),this.xmin=Math.min(this.xmin,Math.min.apply(Math,h))}return this.xmin===this.xmax&&(--this.xmin,this.xmax+=1),this.ymin=this.yboundary("min",g),this.ymax=this.yboundary("max",y),this.ymin2=this.yboundary("min2",m),this.ymax2=this.yboundary("max2",f),this.ymin===this.ymax&&(g&&--this.ymin,this.ymax+=1),this.ymin2===this.ymax2&&(m&&--this.ymin2,this.ymax2+=1),!0!==(L=this.options.axes)&&"both"!==L&&"y"!==L&&!0!==this.options.grid||(this.options.ymax===this.gridDefaults.ymax&&this.options.ymin===this.gridDefaults.ymin?(this.grid=this.autoGridLines(this.ymin,this.ymax,this.options.numLines),this.ymin=Math.min(this.ymin,this.grid[0]),this.ymax=Math.max(this.ymax,this.grid[this.grid.length-1])):(l=(this.ymax-this.ymin)/(this.options.numLines-1),this.options.gridIntegers&&(l=Math.max(1,Math.round(l))),this.grid=function(){var t,i,s=[];for(c=t=this.ymin,i=this.ymax;0<l?t<=i:i<=t;c=t+=l)s.push(parseFloat(c.toFixed(2)));return s}.call(this)),this.options.ymax2===this.gridDefaults.ymax2&&this.options.ymin2===this.gridDefaults.ymin2&&0<this.options.nbYkeys2?(this.grid2=this.autoGridLines(this.ymin2,this.ymax2,this.options.numLines),this.ymin2=Math.min(this.ymin2,this.grid2[0]),this.ymax2=Math.max(this.ymax2,this.grid2[this.grid2.length-1])):(p=(this.ymax2-this.ymin2)/(this.options.numLines-1),this.grid2=function(){var t,i,s=[];for(c=t=this.ymin2,i=this.ymax2;0<p?t<=i:i<=t;c=t+=p)s.push(parseFloat(c.toFixed(2)));return s}.call(this))),this.dirty=!0,t?this.redraw():void 0},h.prototype.yboundary=function(t,i){var s,e=this.options["y"+t];return"string"==typeof e?"auto"===e.slice(0,4)?5<e.length?(s=parseInt(e.slice(5),10),null==i?s:Math[t.substring(0,3)](i,s)):null!=i?i:0:parseInt(e,10):e},h.prototype.autoGridLines=function(t,i,s){var e,o,n=Math.floor(Math.log(i-t)/Math.log(10)),n=Math.pow(10,n),h=Math.floor(t/n)*n,r=Math.ceil(i/n)*n,a=(r-h)/(s-1);return 1===n&&1<a&&Math.ceil(a)!==a&&(a=Math.ceil(a),r=h+a*(s-1)),h<0&&0<r&&(h=Math.floor(t/a)*a,r=Math.ceil(i/a)*a),a<1?(e=Math.floor(Math.log(a)/Math.log(10)),function(){var t,i=[];for(o=t=h;0<a?t<=r:r<=t;o=t+=a)i.push(parseFloat(o.toFixed(1-e)));return i}()):function(){var t,i=[];for(o=t=h;0<a?t<=r:r<=t;o=t+=a)i.push(o);return i}()},h.prototype._calc=function(){var e,o,n,t,i,s=z.dimensions(this.el),h=s.width,s=s.height;if((this.elementWidth!==h||this.elementHeight!==s||this.dirty)&&(this.elementWidth=h,this.elementHeight=s,this.dirty=!1,this.left=this.options.padding,this.right=this.elementWidth-this.options.padding,this.top=this.options.padding,this.bottom=this.elementHeight-this.options.padding,!0!==(h=this.options.axes)&&"both"!==h&&"y"!==h||(null!=this.grid&&(t=function(){for(var t=this.grid,i=[],s=0,e=t.length;s<e;s++)o=t[s],i.push(this.measureText(this.yAxisFormat(o)).width);return i}.call(this)),0<this.options.nbYkeys2&&(i=function(){for(var t=this.grid2,i=[],s=0,e=t.length;s<e;s++)o=t[s],i.push(this.measureText(this.yAxisFormat2(o)).width);return i}.call(this)),this.options.horizontal?this.bottom-=this.options.padding/2:(this.left+=Math.max.apply(Math,t),0<this.options.nbYkeys2&&(this.right-=Math.max.apply(Math,i)))),!0!==(s=this.options.axes)&&"both"!==s&&"x"!==s||(e=this.options.horizontal?-90:-this.options.xLabelAngle,h=function(){var t,i,s=[];for(n=t=0,i=this.data.length;0<=i?t<i:i<t;n=0<=i?++t:--t)s.push(this.measureText(this.data[n].label,e).height);return s}.call(this),this.options.horizontal?this.left+=Math.max.apply(Math,h):this.bottom-=Math.max.apply(Math,h)),this.width=Math.max(1,this.right-this.left),this.height=Math.max(1,this.bottom-this.top),this.options.horizontal?(this.dx=this.height/(this.xmax-this.xmin),this.dy=this.width/(this.ymax-this.ymin),this.dy2=this.width/(this.ymax2-this.ymin2),this.yStart=this.left,this.yEnd=this.right,this.xStart=this.top,this.xEnd=this.bottom,this.xSize=this.height,this.ySize=this.width):(this.dx=this.width/(this.xmax-this.xmin),this.dy=this.height/(this.ymax-this.ymin),this.dy2=this.height/(this.ymax2-this.ymin2),this.yStart=this.bottom,this.yEnd=this.top,this.xStart=this.left,this.xEnd=this.right,this.xSize=this.width,this.ySize=this.height),this.calc))return this.calc()},h.prototype.transY=function(t){return this.options.horizontal?this.left+(t-this.ymin)*this.dy:this.bottom-(t-this.ymin)*this.dy},h.prototype.transY2=function(t){return this.options.horizontal?this.left+(t-this.ymin2)*this.dy2:this.bottom-(t-this.ymin2)*this.dy2},h.prototype.transX=function(t){return 1===this.data.length?(this.xStart+this.xEnd)/2:this.xStart+(t-this.xmin)*this.dx},h.prototype.redraw=function(){return this.raphael.clear(),this._calc(),this.drawGrid(),this.drawRegions(),this.drawEvents(),this.draw&&this.draw(),this.drawGoals(),this.setLabels()},h.prototype.measureText=function(t,i){return null==i&&(i=0),i=(t=this.raphael.text(100,100,t).attr("font-size",this.options.gridTextSize).attr("font-family",this.options.gridTextFamily).attr("font-weight",this.options.gridTextWeight).rotate(i)).getBBox(),t.remove(),i},h.prototype.yAxisFormat=function(t){return this.yLabelFormat(t,0)},h.prototype.yAxisFormat2=function(t){return this.yLabelFormat(t,1e3)},h.prototype.yLabelFormat=function(t,i){return"function"==typeof this.options.yLabelFormat?this.options.yLabelFormat(t,i):0===this.options.nbYkeys2||i<=this.options.ykeys.length-this.options.nbYkeys2-1?""+this.options.preUnits+z.commas(t)+this.options.postUnits:""+this.options.preUnits2+z.commas(t)+this.options.postUnits2},h.prototype.yLabelFormat_noUnit=function(t,i){return"function"==typeof this.options.yLabelFormat?this.options.yLabelFormat(t,i):""+z.commas(t)},h.prototype.getYAxisLabelX=function(){return"right"===this.options.yLabelAlign?this.left-this.options.padding/2:this.options.padding/2},h.prototype.drawGrid=function(){var t,i,s,e,o,n,h,r,a,l,p,u,d,c;if(!1!==this.options.grid||!0===(a=this.options.axes)||"both"===a||"y"===a){if(i=this.options.horizontal?(t=this.getXAxisLabelY(),this.top-(this.options.xAxisLabelTopPadding||this.options.padding/2)):(t=this.getYAxisLabelX(),this.right+this.options.padding/2),null!=this.grid)for(o=0,h=(l=this.grid).length;o<h;o++)s=l[o],e=this.transY(s),!0!==(p=this.options.axes)&&"both"!==p&&"y"!==p||(this.options.horizontal?this.drawXAxisLabel(e,t,this.yAxisFormat(s)):this.drawYAxisLabel(t,e,this.yAxisFormat(s),1)),this.options.grid&&(e=Math.floor(e)+.5,this.options.horizontal?this.drawGridLine("M"+e+","+this.xStart+"V"+this.xEnd):(isNaN(this.xEnd)&&(this.xEnd=20),this.drawGridLine("M"+this.xStart+","+e+"H"+this.xEnd)));if(0<this.options.nbYkeys2){for(c=[],n=0,r=(u=this.grid2).length;n<r;n++)s=u[n],e=this.transY2(s),!0===(d=this.options.axes)||"both"===d||"y"===d?this.options.horizontal?c.push(this.drawXAxisLabel(e,i,this.yAxisFormat2(s))):c.push(this.drawYAxisLabel(i,e,this.yAxisFormat2(s),2)):c.push(void 0);return c}}},h.prototype.drawRegions=function(){for(var t,i,s,e=this.options.regions,o=[],n=s=0,h=e.length;s<h;n=++s)i=e[n],t=this.options.regionsColors[n%this.options.regionsColors.length],o.push(this.drawRegion(i,t));return o},h.prototype.drawGoals=function(){for(var t,i,s,e,o,n,h,r=this.options.goals,a=s=0,l=r.length;s<l;a=++s)i=r[a],t=this.options.goalLineColors[a%this.options.goalLineColors.length],this.drawGoal(i,t);for(h=[],a=e=0,o=(n=this.options.goals2).length;e<o;a=++e)i=n[a],t=this.options.goalLineColors2[a%this.options.goalLineColors2.length],h.push(this.drawGoal2(i,t));return h},h.prototype.drawEvents=function(){var t,i,s,e,o,n,h;if(null!=this.events){for(h=[],s=e=0,o=(n=this.events).length;e<o;s=++e)i=n[s],t=this.options.eventLineColors[s%this.options.eventLineColors.length],h.push(this.drawEvent(i,t));return h}},h.prototype.drawGoal=function(t,i){t=Math.floor(this.transY(t))+.5,t=this.options.horizontal?"M"+t+","+this.xStart+"V"+this.xEnd:"M"+this.xStart+","+t+"H"+this.xEnd;return this.raphael.path(t).attr("stroke",i).attr("stroke-width",this.options.goalStrokeWidth)},h.prototype.drawGoal2=function(t,i){t=Math.floor(this.transY2(t))+.5,t=this.options.horizontal?"M"+t+","+this.xStart+"V"+this.xEnd:"M"+this.xStart+","+t+"H"+this.xEnd;return this.raphael.path(t).attr("stroke",i).attr("stroke-width",this.options.goalStrokeWidth2)},h.prototype.drawRegion=function(t,i){var s,e;return t instanceof Array?(s=Math.min(Math.max.apply(Math,t),this.ymax),t=Math.max(Math.min.apply(Math,t),this.ymin),this.options.horizontal?(t=Math.floor(this.transY(t)),s=Math.floor(this.transY(s))-t,this.raphael.rect(t,this.xStart,s,this.xEnd-this.xStart).attr({fill:i,stroke:!1}).toBack()):(s=Math.floor(this.transY(s)),t=Math.floor(this.transY(t))-s,this.raphael.rect(this.xStart,s,this.xEnd-this.xStart,t).attr({fill:i,stroke:!1}).toBack())):(s=this.options.horizontal?"M"+(e=Math.floor(this.transY(area))+1)+","+this.xStart+"V"+this.xEnd:(e=Math.floor(this.transY(area))+1,"M"+this.xStart+","+e+"H"+this.xEnd),this.raphael.path(s).attr("stroke",i).attr("stroke-width",2))},h.prototype.drawEvent=function(t,i){var s,e;return t instanceof Array?(s=t[0],e=t[1],s=Math.floor(this.transX(s))+.5,e=Math.floor(this.transX(e))+.5,(this.options.horizontal?this.raphael.rect(this.yStart,s,this.yEnd-this.yStart,e-s):this.raphael.rect(s,this.yEnd,e-s,this.yStart-this.yEnd)).attr({fill:i,stroke:!1}).toBack()):(e=Math.floor(this.transX(t))+.5,s=this.options.horizontal?"M"+this.yStart+","+e+"H"+this.yEnd:"M"+e+","+this.yStart+"V"+this.yEnd,this.raphael.path(s).attr("stroke",i).attr("stroke-width",this.options.eventStrokeWidth))},h.prototype.drawYAxisLabel=function(t,i,s,e){t=this.raphael.text(t,i,s).attr("font-size",this.options.gridTextSize).attr("font-family",this.options.gridTextFamily).attr("font-weight",this.options.gridTextWeight).attr("fill",this.options.gridTextColor);return 1===e?"right"===this.options.yLabelAlign?t.attr("text-anchor","end"):t.attr("text-anchor","start"):"left"===this.options.yLabelAlign2?t.attr("text-anchor","start"):t.attr("text-anchor","end")},h.prototype.drawXAxisLabel=function(t,i,s){return this.raphael.text(t,i,s).attr("font-size",this.options.gridTextSize).attr("font-family",this.options.gridTextFamily).attr("font-weight",this.options.gridTextWeight).attr("fill",this.options.gridTextColor)},h.prototype.drawGridLine=function(t){return this.raphael.path(t).attr("stroke",this.options.gridLineColor).attr("stroke-width",this.options.gridStrokeWidth)},h.prototype.startRange=function(t){return this.hover.hide(),this.selectFrom=t,this.selectionRect.attr({x:t,width:0}).show()},h.prototype.endRange=function(t){var i;if(this.selectFrom)return i=Math.min(this.selectFrom,t),t=Math.max(this.selectFrom,t),this.options.rangeSelect.call(this.el,{start:this.data[this.hitTest(i)].x,end:this.data[this.hitTest(t)].x}),this.selectFrom=null},h.prototype.mousemoveHandler=function(t){var i,s,e=z.offset(this.el),o=t.pageX-e.left;return this.selectFrom?(i=this.data[this.hitTest(Math.min(o,this.selectFrom))]._x,s=this.data[this.hitTest(Math.max(o,this.selectFrom))]._x,this.selectionRect.attr({x:i,width:s-i})):this.fire("hovermove",o,t.pageY-e.top)},h.prototype.mouseleaveHandler=function(t){return this.selectFrom&&(this.selectionRect.hide(),this.selectFrom=null),this.fire("hoverout")},h.prototype.touchHandler=function(t){var t=t.originalEvent.touches[0]||t.originalEvent.changedTouches[0],i=z.offset(this.el);return this.fire("hovermove",t.pageX-i.left,t.pageY-i.top)},h.prototype.clickHandler=function(t){var i=z.offset(this.el);return this.fire("gridclick",t.pageX-i.left,t.pageY-i.top)},h.prototype.mousedownHandler=function(t){var i=z.offset(this.el);return this.startRange(t.pageX-i.left)},h.prototype.mouseupHandler=function(t){var i=z.offset(this.el);return this.endRange(t.pageX-i.left),this.fire("hovermove",t.pageX-i.left,t.pageY-i.top)},h.prototype.resizeHandler=function(){return null!=this.timeoutId&&window.clearTimeout(this.timeoutId),this.timeoutId=window.setTimeout(this.debouncedResizeHandler,100)},h.prototype.debouncedResizeHandler=function(){var t,i;return this.timeoutId=null,t=(i=z.dimensions(this.el)).width,i=i.height,this.raphael.setSize(t,i),this.options.animate=!1,this.redraw()},h.prototype.hasToShow=function(t){return!0===this.options.shown||!0===this.options.shown[t]},h.prototype.isColorDark=function(t){return null!=t&&(t=t.substring(1),!(128<=.2126*((t=parseInt(t,16))>>16&255)+.7152*(t>>8&255)+.0722*(t>>0&255)))},h.prototype.drawDataLabel=function(t,i,s,e){return this.raphael.text(t,i,s).attr("text-anchor","middle").attr("font-size",this.options.dataLabelsSize).attr("font-family",this.options.dataLabelsFamily).attr("font-weight",this.options.dataLabelsWeight).attr("fill",e)},h.prototype.drawDataLabelExt=function(t,i,s,e,o){return this.raphael.text(t,i,s).attr("text-anchor",e).attr("font-size",this.options.dataLabelsSize).attr("font-family",this.options.dataLabelsFamily).attr("font-weight",this.options.dataLabelsWeight).attr("fill",o)},h.prototype.setLabels=function(){var o,n,h,t,i,s,e;if(this.options.dataLabels){for(e=[],t=0,i=(s=this.data).length;t<i;t++)h=s[t],e.push(function(){var t,i,s=this.options.ykeys,e=[];for(n=t=0,i=s.length;t<i;n=++t)s[n],o="auto"!==this.options.dataLabelsColor?this.options.dataLabelsColor:!0===this.options.stacked&&!0===this.isColorDark(this.options.barColors[n%this.options.barColors.length])?"#fff":"#000",null!=this.options.lineColors&&null!=this.options.lineType?(null!=h.label_y[n]&&this.drawDataLabel(h._x,h.label_y[n],this.yLabelFormat_noUnit(h.y[n],0),o),null!=h._y2&&null!=h._y2[n]?e.push(this.drawDataLabel(h._x,h._y2[n]-10,this.yLabelFormat_noUnit(h.y[n],1e3),o)):e.push(void 0)):null!=h.label_y[n]?!1===this.options.horizontal?e.push(this.drawDataLabel(h.label_x[n],h.label_y[n],this.yLabelFormat_noUnit(h.y[n],n),o)):e.push(this.drawDataLabelExt(h.label_x[n],h.label_y[n],this.yLabelFormat_noUnit(h.y[n]),"start",o)):null!=h._y2[n]?!1===this.options.horizontal?e.push(this.drawDataLabel(h._x,h._y2[n]-10,this.yLabelFormat_noUnit(h.y[n],n),o)):e.push(this.drawDataLabelExt(h._y2[n],h._x-10,this.yLabelFormat_noUnit(h.y[n]),"middle",o)):e.push(void 0);return e}.call(this));return e}},h),z.parseDate=function(t){var i,s,e,o,n,h,r;return"number"==typeof t?t:(h=t.match(/^(\d+) Q(\d)$/),r=t.match(/^(\d+)-(\d+)$/),i=t.match(/^(\d+)-(\d+)-(\d+)$/),e=t.match(/^(\d+) W(\d+)$/),o=t.match(/^(\d+)-(\d+)-(\d+)[ T](\d+):(\d+)(Z|([+-])(\d\d):?(\d\d))?$/),n=t.match(/^(\d+)-(\d+)-(\d+)[ T](\d+):(\d+):(\d+(\.\d+)?)(Z|([+-])(\d\d):?(\d\d))?$/),h?new Date(parseInt(h[1],10),3*parseInt(h[2],10)-1,1).getTime():r?new Date(parseInt(r[1],10),parseInt(r[2],10)-1,1).getTime():i?new Date(parseInt(i[1],10),parseInt(i[2],10)-1,parseInt(i[3],10)).getTime():e?(4!==(h=new Date(parseInt(e[1],10),0,1)).getDay()&&h.setMonth(0,1+(4-h.getDay()+7)%7),h.getTime()+6048e5*parseInt(e[2],10)):o?o[6]?(s=0,"Z"!==o[6]&&(s=60*parseInt(o[8],10)+parseInt(o[9],10),"+"===o[7]&&(s=0-s)),Date.UTC(parseInt(o[1],10),parseInt(o[2],10)-1,parseInt(o[3],10),parseInt(o[4],10),parseInt(o[5],10)+s)):new Date(parseInt(o[1],10),parseInt(o[2],10)-1,parseInt(o[3],10),parseInt(o[4],10),parseInt(o[5],10)).getTime():n?(r=parseFloat(n[6]),i=Math.floor(r),h=Math.round(1e3*(r-i)),n[8]?(s=0,"Z"!==n[8]&&(s=60*parseInt(n[10],10)+parseInt(n[11],10),"+"===n[9]&&(s=0-s)),Date.UTC(parseInt(n[1],10),parseInt(n[2],10)-1,parseInt(n[3],10),parseInt(n[4],10),parseInt(n[5],10)+s,i,h)):new Date(parseInt(n[1],10),parseInt(n[2],10)-1,parseInt(n[3],10),parseInt(n[4],10),parseInt(n[5],10),i,h).getTime()):new Date(parseInt(t,10),0,1).getTime())},z.Hover=(a.defaults={class:"morris-hover morris-default-style"},a.prototype.update=function(t,i,s,e){return t?(this.html(t),this.show(),this.moveTo(i,s,e)):this.hide()},a.prototype.html=function(t){return this.el.innerHTML=t},a.prototype.moveTo=function(t,i,s){var e,o=z.innerDimensions(this.options.parent),n=o.width,o=o.height,h=this.el.offsetWidth,r=this.el.offsetHeight,t=Math.min(Math.max(0,t-h/2),n-h);return null!=i?!0===s?(e=i-r/2)<0&&(e=0):(e=i-r-10)<0&&o<(e=i+10)+r&&(e=o/2-r/2):e=o/2-r/2,this.el.style.left=parseInt(t)+"px",this.el.style.top=parseInt(e)+"px"},a.prototype.show=function(){return this.el.style.display=""},a.prototype.hide=function(){return this.el.style.display="none"},a),z.Line=(e=z.Grid,t(l,e),l.prototype.init=function(){if("always"!==this.options.hideHover)return this.hover=new z.Hover({parent:this.el}),this.on("hovermove",this.onHoverMove),this.on("hoverout",this.onHoverOut),this.on("gridclick",this.onGridClick)},l.prototype.defaults={lineWidth:3,pointSize:4,pointSizeGrow:3,lineColors:["#2f7df6","#53a351","#f6c244","#cb444a","#4aa0b5","#222529"],extraClassLine:"",extraClassCircle:"",pointStrokeWidths:[1],pointStrokeColors:["#ffffff"],pointFillColors:[],pointSuperimposed:!0,hoverOrdered:!1,hoverReversed:!1,smooth:!0,lineType:{},shown:!0,xLabels:"auto",xLabelFormat:null,xLabelMargin:0,verticalGrid:!1,verticalGridHeight:"full",verticalGridStartOffset:0,verticalGridType:"",trendLine:!1,trendLineType:"linear",trendLineWidth:2,trendLineWeight:!1,trendLineColors:["#689bc3","#a2b3bf","#64b764"]},l.prototype.calc=function(){return this.calcPoints(),this.generatePaths()},l.prototype.calcPoints=function(){for(var r,a,l,o,t,p,u,d,n,i,s,e,h,c,y,f,g,m,x=this.data,v=0,b=x.length;v<b;v++)(u=x[v])._x=this.transX(u.x),u._y=function(){var t,i,s=u.y,e=[];for(o=t=0,i=s.length;t<i;o=++t)n=s[o],o<this.options.ykeys.length-this.options.nbYkeys2?null!=n?e.push(this.transY(n)):e.push(n):e.push(void 0);return e}.call(this),u._y2=function(){var t,i,s=u.y,e=[];for(o=t=0,i=s.length;t<i;o=++t)n=s[o],o>=this.options.ykeys.length-this.options.nbYkeys2?null!=n?e.push(this.transY2(n)):e.push(n):e.push(void 0);return e}.call(this),u._ymax=Math.min.apply(Math,[this.bottom].concat(function(){var t,i,s=u._y,e=[];for(a=t=0,i=s.length;t<i;a=++t)null!=(n=s[a])&&this.hasToShow(a)&&e.push(n);return e}.call(this))),u._ymax2=Math.min.apply(Math,[this.bottom].concat(function(){var t,i,s=u._y2,e=[];for(a=t=0,i=s.length;t<i;a=++t)null!=(n=s[a])&&this.hasToShow(a)&&e.push(n);return e}.call(this)));for(y=this.data,l=i=0,h=y.length;i<h;l=++i)for(u=y[l],this.data[l].label_x=[],this.data[l].label_y=[],t=s=f=this.options.ykeys.length-1;f<=0?s<=0:0<=s;t=f<=0?++s:--s)null!=u._y[t]&&(this.data[l].label_x[t]=u._x,this.data[l].label_y[t]=u._y[t]-10),null!=u._y2&&null!=u._y2[t]&&(this.data[l].label_x[t]=u._x,this.data[l].label_y[t]=u._y2[t]-10);if(!1===this.options.pointSuperimposed){for(m=[],e=0,c=(g=this.data).length;e<c;e++)u=g[e],m.push(function(){var t,i,s,e,o,n=u._y,h=[];for(l=s=0,t=n.length;s<t;l=++s){for(p=n[l],r=0,o=u._y,a=e=0,i=o.length;e<i;a=++e)d=o[a],p===d&&"number"==typeof p&&r++;1<r?(u._y[l]=u._y[l]+r*this.lineWidthForSeries(l),1<this.lineWidthForSeries(l)?h.push(u._y[l]=u._y[l]-1):h.push(void 0)):h.push(void 0)}return h}.call(this));return m}},l.prototype.hitTest=function(t){var i,s,e,o;if(0===this.data.length)return null;for(i=s=0,e=(o=this.data.slice(1)).length;s<e&&!(t<(o[i]._x+this.data[i]._x)/2);i=++s);return i},l.prototype.onGridClick=function(t,i){var s=this.hitTest(t);return this.fire("click",s,this.data[s].src,t,i)},l.prototype.onHoverMove=function(t,i){t=this.hitTest(t);return this.displayHoverForRow(t)},l.prototype.onHoverOut=function(){if(!1!==this.options.hideHover)return this.displayHoverForRow(null)},l.prototype.displayHoverForRow=function(t){var i;return null!=t?((i=this.hover).update.apply(i,this.hoverContentForRow(t)),this.hilight(t)):(this.hover.hide(),this.hilight())},l.prototype.escapeHTML=function(t){var i={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"};return t.replace(/[&<>"'/]/gi,function(t){return i[t]})},l.prototype.hoverContentForRow=function(t){var i,s,e,o,n,h,r,a,l,p,u,d,c,y,f,g=this.data[t],m="",x=[];if(!0===this.options.hoverOrdered)for(e=r=0,u=(c=g.y).length;r<u;e=++r){for(c[e],o=null,n=-1,s=a=0,d=(y=g.y).length;a<d;s=++a)h=y[s],v.call(x,s)<0&&(o<=h||null===o)&&(o=h,n=s);x.push(n)}else for(e=l=(f=g.y).length-1;0<=l;e=l+=-1)f[e],x.push(e);for(i=-1,p=(x=!0===this.options.hoverReversed?x.reverse():x).length-1;0<=p;p+=-1)s=x[p],!1!==this.options.labels[s]&&(void 0!==g.y[s]&&-1===i&&(i=s),m="<div class='morris-hover-point' style='color: "+this.colorFor(g,s,"label")+"'>\n  "+this.options.labels[s]+":\n  "+this.yLabelFormat(g.y[s],s)+"\n</div>"+m);return m="<div class='morris-hover-row-label'>"+this.escapeHTML(g.label)+"</div>"+m,"function"==typeof this.options.hoverCallback&&(m=this.options.hoverCallback(t,this.options,m,g.src)),i>this.options.nbYkeys2?[m,g._x,g._ymax2]:[m,g._x,g._ymax]},l.prototype.generatePaths=function(){var o,n,h,r;return this.paths=function(){var t,i,s,e=[];for(o=t=0,i=this.options.ykeys.length;0<=i?t<i:i<t;o=0<=i?++t:--t)r="boolean"==typeof this.options.smooth?this.options.smooth:(s=this.options.ykeys[o],0<=v.call(this.options.smooth,s)),r=r?"smooth":"jagged","string"==typeof this.options.lineType&&(r=this.options.lineType),void 0!==this.options.lineType[this.options.ykeys[o]]&&(r=this.options.lineType[this.options.ykeys[o]]),n=this.options.ykeys.length-this.options.nbYkeys2,1<(n=(o<n?function(){for(var t=this.data,i=[],s=0,e=t.length;s<e;s++)void 0!==(h=t[s])._y[o]&&i.push({x:h._x,y:h._y[o]});return i}:function(){for(var t=this.data,i=[],s=0,e=t.length;s<e;s++)void 0!==(h=t[s])._y2[o]&&i.push({x:h._x,y:h._y2[o]});return i}).call(this)).length?e.push(z.Line.createPath(n,r,this.bottom,o,this.options.ykeys.length,this.options.lineWidth)):e.push(null);return e}.call(this)},l.prototype.draw=function(){var t;if(!0!==(t=this.options.axes)&&"both"!==t&&"x"!==t||this.drawXAxis(),this.drawSeries(),!1===this.options.hideHover)return this.displayHoverForRow(this.data.length-1)},l.prototype.drawXAxis=function(){var t,i,o,s,e,n,h,r,a=this,l=this.bottom+this.options.padding/2,p=null,u=null,d=function(t,i){var s,t=a.drawXAxisLabel(a.transX(i),l,t),e=t.getBBox();return t.transform("r"+-a.options.xLabelAngle),s=t.getBBox(),t.transform("t0,"+s.height/2+"..."),0!==a.options.xLabelAngle&&(e=-.5*e.width*Math.cos(a.options.xLabelAngle*Math.PI/180),t.transform("t"+e+",0...")),s=t.getBBox(),(null==p||p>=s.x+s.width||null!=u&&u>=s.x)&&0<=s.x&&s.x+s.width<z.dimensions(a.el).width?(0!==a.options.xLabelAngle&&(e=1.25*a.options.gridTextSize/Math.sin(a.options.xLabelAngle*Math.PI/180),u=s.x-e),p=s.x-a.options.xLabelMargin,!0===a.options.verticalGrid?a.drawVerticalGridLine(i):void 0):t.remove()},c=this.options.parseTime?1===this.data.length&&"auto"===this.options.xLabels?[[this.data[0].label,this.data[0].x]]:z.labelSeries(this.xmin,this.xmax,this.width,this.options.xLabels,this.options.xLabelFormat):(this.options.customLabels?function(){for(var t=this.options.customLabels,i=[],s=0,e=t.length;s<e;s++)o=t[s],i.push([o.label,o.x]);return i}:function(){for(var t=this.data,i=[],s=0,e=t.length;s<e;s++)o=t[s],i.push([o.label,o.x]);return i}).call(this);for(c.reverse(),s=0,n=c.length;s<n;s++)d((t=c[s])[0],t[1]);if("string"==typeof this.options.verticalGrid){for(r=[],e=0,h=(i=z.labelSeries(this.xmin,this.xmax,this.width,this.options.verticalGrid)).length;e<h;e++)t=i[e],r.push(this.drawVerticalGridLine(t[1]));return r}},l.prototype.drawVerticalGridLine=function(t){var i,s;return t=Math.floor(this.transX(t))+.5,s=this.yStart+this.options.verticalGridStartOffset,i="full"===this.options.verticalGridHeight?this.yEnd:this.yStart-this.options.verticalGridHeight,this.drawGridLineVert("M"+t+","+s+"V"+i)},l.prototype.drawGridLineVert=function(t){return this.raphael.path(t).attr("stroke",this.options.gridLineColor).attr("stroke-width",this.options.gridStrokeWidth).attr("stroke-dasharray",this.options.verticalGridType)},l.prototype.drawSeries=function(){var t,i,s,e,o,n;for(this.seriesPoints=[],t=i=e=this.options.ykeys.length-1;e<=0?i<=0:0<=i;t=e<=0?++i:--i)this.hasToShow(t)&&((!1!==this.options.trendLine&&!0===this.options.trendLine||!0===this.options.trendLine[t])&&0<this.data.length&&this._drawTrendLine(t),this._drawLineFor(t));for(n=[],t=s=o=this.options.ykeys.length-1;o<=0?s<=0:0<=s;t=o<=0?++s:--s)this.hasToShow(t)?n.push(this._drawPointFor(t)):n.push(void 0);return n},l.prototype._drawPointFor=function(t){var i,s,e,o,n,h,r;for(this.seriesPoints[t]=[],r=[],s=o=0,n=(h=this.data).length;o<n;s=++o)(i=null)!=(e=h[s])._y[t]&&(i=this.drawLinePoint(e._x,e._y[t],this.colorFor(e,t,"point"),t)),null!=e._y2&&null!=e._y2[t]&&(i=this.drawLinePoint(e._x,e._y2[t],this.colorFor(e,t,"point"),t)),r.push(this.seriesPoints[t].push(i));return r},l.prototype._drawLineFor=function(t){var i=this.paths[t];if(null!==i)return this.drawLinePath(i,this.colorFor(null,t,"line"),t)},l.prototype._drawTrendLine=function(t){for(var i,s,e,o,n,h,r,a,l,p,u,d,c,y,f=0,g=0,m=0,x=0,v=0,b=[],w=this.data,L=u=0,M=w.length;u<M;L=++u)l=(p=w[L]).x,null!=(p=p.y[t])&&(b.push([l,p]),v+=a=!1===this.options.trendLineWeight?1:this.options.data[L][this.options.trendLineWeight],f+=l*a,g+=p*a,m+=l*l*a,x+=l*p*a);if(e=g/v-(i=(v*x-f*g)/(v*m-f*f))*f/v,(s=[{},{}])[0].x=this.transX(this.data[0].x),s[0].y=this.transY(this.data[0].x*i+e),s[1].x=this.transX(this.data[this.data.length-1].x),s[1].y=this.transY(this.data[this.data.length-1].x*i+e),"linear"!==this.options.trendLineType)if("function"==typeof regression){if(n=(this.xmax-this.xmin)/30,s=[],"polynomial"===this.options.trendLineType)for(o=regression("polynomial",b,2),L=d=0;d<=30;L=++d)h=this.xmin+L*n,r=o.equation[2]*h*h+o.equation[1]*h+o.equation[0],s.push({x:this.transX(h),y:this.transY(r)});else if("logarithmic"===this.options.trendLineType)for(o=regression("logarithmic",b),L=c=0;c<=30;L=++c)h=this.xmin+L*n,r=o.equation[0]+o.equation[1]*Math.log(h),s.push({x:this.transX(h),y:this.transY(r)});else if("exponential"===this.options.trendLineType)for(o=regression("exponential",b),L=y=0;y<=30;L=++y)h=this.xmin+L*n,r=o.equation[0]+Math.exp(o.equation[1]*h),s.push({x:this.transX(h),y:this.transY(r)});console.log("Regression formula is: "+o.string+", r2:"+o.r2)}else console.log("Warning: regression() is undefined, please ensure that regression.js is loaded");if(!isNaN(i))return e=z.Line.createPath(s,"jagged",this.bottom),this.raphael.path(e).attr("stroke",this.colorFor(null,t,"trendLine")).attr("stroke-width",this.options.trendLineWidth)},l.createPath=function(t,i,s,e,o,n){var h,r,a,l,p,u,d,c,y,f="";for("smooth"===i&&(a=z.Line.gradients(t)),d={y:null},l=c=0,y=t.length;c<y;l=++c)null!=(h=t[l]).y&&(null!=d.y?"smooth"===i?(r=a[l],u=a[l-1],p=(h.x-d.x)/4,f+="C"+(d.x+p)+","+Math.min(s,d.y+p*u)+","+(h.x-p)+","+Math.min(s,h.y-p*r)+","+h.x+","+h.y):"jagged"===i?f+="L"+h.x+","+h.y:"step"===i?f=(f+="L"+h.x+","+d.y)+"L"+h.x+","+h.y:"stepNoRiser"===i?f=(f+="L"+h.x+","+d.y)+"M"+h.x+","+h.y:"vertical"===i&&(f=(f=(f+="L"+(d.x-n/o*(o-1)+e*n)+","+d.y)+"L"+(d.x-n/o*(o-1)+e*n)+","+s)+"M"+(h.x-n/o*(o-1)+e*n)+","+s,t.length===l+1&&(f=(f+="L"+(h.x-n/o*(o-1)+e*n)+","+h.y)+"L"+(h.x-n/o*(o-1)+e*n)+","+s)):"smooth"===i&&null==a[l]||(f+="M"+h.x+","+h.y)),d=h;return f},l.gradients=function(t){for(var i,s,e,o,n=function(t,i){return(t.y-i.y)/(t.x-i.x)},h=[],r=o=0,a=t.length;o<a;r=++o)null!=(i=t[r]).y?(s=t[r+1]||{y:null},null!=(e=t[r-1]||{y:null}).y&&null!=s.y?h.push(n(e,s)):null!=e.y?h.push(n(e,i)):null!=s.y?h.push(n(i,s)):h.push(null)):h.push(null);return h},l.prototype.hilight=function(t){var i,s,e,o,n;if(null!==this.prevHilight&&this.prevHilight!==t)for(i=s=0,o=this.seriesPoints.length-1;0<=o?s<=o:o<=s;i=0<=o?++s:--s)this.hasToShow(i)&&this.seriesPoints[i][this.prevHilight]&&this.seriesPoints[i][this.prevHilight].animate(this.pointShrinkSeries(i));if(null!==t&&this.prevHilight!==t)for(i=e=0,n=this.seriesPoints.length-1;0<=n?e<=n:n<=e;i=0<=n?++e:--e)this.hasToShow(i)&&this.seriesPoints[i][t]&&this.seriesPoints[i][t].animate(this.pointGrowSeries(i));return this.prevHilight=t},l.prototype.colorFor=function(t,i,s){return"function"==typeof this.options.lineColors?this.options.lineColors.call(this,t,i,s):"point"===s?this.options.pointFillColors[i%this.options.pointFillColors.length]||this.options.lineColors[i%this.options.lineColors.length]:"trendLine"===s?this.options.trendLineColors[i%this.options.trendLineColors.length]:this.options.lineColors[i%this.options.lineColors.length]},l.prototype.drawLinePath=function(t,i,s){var e,o,n,h,r,a,l,p;if(this.options.animate){for(r="",e=a=0,l=(p=this.data).length;a<l;e=++a)n=p[e],""===r?s>=this.options.ykeys.length-this.options.nbYkeys2?null!=n._y2[s]&&(r="M"+n._x+","+this.transY2(this.ymin2)):null!=n._y[s]&&(r="vertical"!==this.options.lineType?"M"+n._x+","+this.transY(this.ymin):"M"+n._x+","+this.transY(0)+"L"+n._x+","+this.transY(0)+"L"+n._x+","+this.transY(0)):s>=this.options.ykeys.length-this.options.nbYkeys2?null!=n._y2[s]&&(r+=","+n._x+","+this.transY2(this.ymin2),"step"===this.options.lineType&&(r+=","+n._x+","+this.transY2(this.ymin2))):null!=n._y[s]&&("vertical"!==this.options.lineType?r+=","+n._x+","+this.transY(this.ymin):r+="M"+(h=n._x-(this.options.ykeys.length-1)*(this.options.lineWidth/this.options.ykeys.length)+s*this.options.lineWidth)+","+this.transY(0)+"L"+h+","+this.transY(0)+"L"+h+","+this.transY(0),"step"===this.options.lineType&&(r+=","+n._x+","+this.transY(this.ymin)));return o=this.raphael.path(r).attr("stroke",i).attr("stroke-width",this.lineWidthForSeries(s)).attr("class",this.options.extraClassLine).attr("class","line_"+s),this.options.cumulative?o.animate({path:t},600,"<>"):o.animate({path:t},500,"<>")}return this.raphael.path(t).attr("stroke",i).attr("stroke-width",this.lineWidthForSeries(s)).attr("class",this.options.extraClassLine).attr("class","line_"+s)},l.prototype.drawLinePoint=function(t,i,s,e){return this.raphael.circle(t,i,this.pointSizeForSeries(e)).attr("fill",s).attr("stroke-width",this.pointStrokeWidthForSeries(e)).attr("stroke",this.pointStrokeColorForSeries(e)).attr("class",this.options.extraClassCircle).attr("class","circle_line_"+e)},l.prototype.pointStrokeWidthForSeries=function(t){return this.options.pointStrokeWidths[t%this.options.pointStrokeWidths.length]},l.prototype.pointStrokeColorForSeries=function(t){return this.options.pointStrokeColors[t%this.options.pointStrokeColors.length]},l.prototype.lineWidthForSeries=function(t){return this.options.lineWidth instanceof Array?this.options.lineWidth[t%this.options.lineWidth.length]:this.options.lineWidth},l.prototype.pointSizeForSeries=function(t){return this.options.pointSize instanceof Array?this.options.pointSize[t%this.options.pointSize.length]:this.options.pointSize},l.prototype.pointGrowSeries=function(t){if(0!==this.pointSizeForSeries(t))return Raphael.animation({r:this.pointSizeForSeries(t)+this.options.pointSizeGrow},25,"linear")},l.prototype.pointShrinkSeries=function(t){return Raphael.animation({r:this.pointSizeForSeries(t)},25,"linear")},l),z.labelSeries=function(t,i,s,e,o){var n,h,r,a,l,p,u,d=200*(i-t)/s,s=new Date(t),c=z.LABEL_SPECS[e];if(void 0===c)for(l=0,p=(u=z.AUTO_LABEL_ORDER).length;l<p;l++)if(r=u[l],d>=(r=z.LABEL_SPECS[r]).span){c=r;break}for(void 0===c&&(c=z.LABEL_SPECS.second),n=(c=o?z.extend({},c,{fmt:o}):c).start(s),h=[];(a=n.getTime())<=i;)t<=a&&h.push([c.fmt(n),a]),c.incr(n);return h},z.LABEL_SPECS={decade:{span:1728e8,start:function(t){return new Date(t.getFullYear()-t.getFullYear()%10,0,1)},fmt:function(t){return""+t.getFullYear()},incr:function(t){return t.setFullYear(t.getFullYear()+10)}},year:{span:1728e7,start:function(t){return new Date(t.getFullYear(),0,1)},fmt:function(t){return""+t.getFullYear()},incr:function(t){return t.setFullYear(t.getFullYear()+1)}},month:{span:24192e5,start:function(t){return new Date(t.getFullYear(),t.getMonth(),1)},fmt:function(t){return t.getFullYear()+"-"+z.pad2(t.getMonth()+1)},incr:function(t){return t.setMonth(t.getMonth()+1)}},week:{span:6048e5,start:function(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate())},fmt:function(t){return t.getFullYear()+"-"+z.pad2(t.getMonth()+1)+"-"+z.pad2(t.getDate())},incr:function(t){return t.setDate(t.getDate()+7)}},day:{span:864e5,start:function(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate())},fmt:function(t){return t.getFullYear()+"-"+z.pad2(t.getMonth()+1)+"-"+z.pad2(t.getDate())},incr:function(t){return t.setDate(t.getDate()+1)}},hour:(e=function(i){return{span:60*i*1e3,start:function(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours())},fmt:function(t){return z.pad2(t.getHours())+":"+z.pad2(t.getMinutes())},incr:function(t){return t.setUTCMinutes(t.getUTCMinutes()+i)}}})(60),"30min":e(30),"15min":e(15),"10min":e(10),"5min":e(5),minute:e(1),"30sec":(e=function(i){return{span:1e3*i,start:function(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes())},fmt:function(t){return z.pad2(t.getHours())+":"+z.pad2(t.getMinutes())+":"+z.pad2(t.getSeconds())},incr:function(t){return t.setUTCSeconds(t.getUTCSeconds()+i)}}})(30),"15sec":e(15),"10sec":e(10),"5sec":e(5),second:e(1)},z.AUTO_LABEL_ORDER=["decade","year","month","week","day","hour","30min","15min","10min","5min","minute","30sec","15sec","10sec","5sec","second"],z.Area=(e=z.Line,t(p,e),i={fillOpacity:"auto",behaveLikeLine:!1,belowArea:!0,areaColors:[]},p.prototype.calcPoints=function(){for(var o,e,n,h,r,a,t,i,s,l,p=this.data,u=0,d=p.length;u<d;u++)(h=p[u])._x=this.transX(h.x),r=0,h._y=function(){for(var t=h.y,i=[],s=0,e=t.length;s<e;s++)a=t[s],this.options.behaveLikeLine?null!=a?i.push(this.transY(a)):i.push(a):null!=a?(r+=a||0,i.push(this.transY(r))):i.push(void 0);return i}.call(this),h._ymax=Math.max.apply(Math,[].concat(function(){var t,i,s=h._y,e=[];for(o=t=0,i=s.length;t<i;o=++t)null!=(a=s[o])&&e.push(a);return e}()));for(s=this.data,l=[],e=t=0,i=s.length;t<i;e=++t)h=s[e],this.data[e].label_x=[],this.data[e].label_y=[],l.push(function(){var t,i,s=[];for(n=t=i=this.options.ykeys.length-1;i<=0?t<=0:0<=t;n=i<=0?++t:--t)null!=h._y[n]&&(this.data[e].label_x[n]=h._x,this.data[e].label_y[n]=h._y[n]-10),null!=h._y2&&null!=h._y2[n]?(this.data[e].label_x[n]=h._x,s.push(this.data[e].label_y[n]=h._y2[n]-10)):s.push(void 0);return s}.call(this));return l},p.prototype.drawSeries=function(){var t,i,s,e,o,n,h,r,a,l;for(this.seriesPoints=[],s=0,o=(i=(this.options.behaveLikeLine?function(){r=[];for(var t=0,i=this.options.ykeys.length-1;0<=i?t<=i:i<=t;0<=i?t++:t--)r.push(t);return r}:function(){a=[];for(var t=h=this.options.ykeys.length-1;h<=0?t<=0:0<=t;h<=0?t++:t--)a.push(t);return a}).apply(this)).length;s<o;s++)t=i[s],this._drawFillFor(t);for(l=[],e=0,n=i.length;e<n;e++)t=i[e],this._drawLineFor(t),l.push(this._drawPointFor(t));return l},p.prototype._drawFillFor=function(t){var i,e,s=this.paths[t];if(null!==s)return s=!0===this.options.belowArea?s+("L"+this.transX(this.xmax)+","+this.bottom+"L"+this.transX(this.xmin)+","+this.bottom)+"Z":(i=function(){for(var t=this.data,i=[],s=t.length-1;0<=s;s+=-1)void 0!==(e=t[s])._y[0]&&i.push({x:e._x,y:e._y[0]});return i}.call(this),s+"L"+z.Line.createPath(i,"smooth",this.bottom).slice(1)),this.drawFilledPath(s,this.fillForSeries(t),t)},p.prototype.fillForSeries=function(t){return 0===this.options.areaColors.length&&(this.options.areaColors=this.options.lineColors),t=Raphael.rgb2hsl(this.options.areaColors[t%this.options.areaColors.length]),Raphael.hsl(t.h,this.options.behaveLikeLine?.9*t.s:.75*t.s,Math.min(.98,this.options.behaveLikeLine?1.2*t.l:1.25*t.l))},p.prototype.drawFilledPath=function(t,i,o){var s,n,e;return this.options.animate?(s=function(){for(var t=this.data,i=[],s=0,e=t.length;s<e;s++)void 0!==(n=t[s])._y[o]&&i.push({x:n._x,y:this.transY(0)});return i}.call(this),e=z.Line.createPath(s,"smooth",this.bottom),e=!0===this.options.belowArea?e+("L"+this.transX(this.xmax)+","+this.bottom+"L"+this.transX(this.xmin)+","+this.bottom)+"Z":(s=function(){for(var t=this.data,i=[],s=t.length-1;0<=s;s+=-1)void 0!==(n=t[s])._y[o]&&i.push({x:n._x,y:this.transY(0)});return i}.call(this),e+"L"+z.Line.createPath(s,"smooth",this.bottom).slice(1)),this.raphael.path(e+="Z").attr("fill",i).attr("fill-opacity",this.options.fillOpacity).attr("stroke","none").animate({path:t},500,"<>")):this.raphael.path(t).attr("fill",i).attr("fill-opacity",this.options.fillOpacity).attr("stroke","none")},p),z.Bar=(e=z.Grid,t(d,e),d.prototype.init=function(){if(this.cumulative=this.options.stacked,"always"!==this.options.hideHover)return this.hover=new z.Hover({parent:this.el}),this.on("hovermove",this.onHoverMove),this.on("hoverout",this.onHoverOut),this.on("gridclick",this.onGridClick)},d.prototype.defaults={barSizeRatio:.75,pointSize:4,lineWidth:3,barGap:3,barColors:["#2f7df6","#53a351","#f6c244","#cb444a","#4aa0b5","#222529"],barOpacity:1,barHighlightOpacity:1,highlightSpeed:150,barRadius:[0,0,0,0],xLabelMargin:0,horizontal:!1,stacked:!1,shown:!0,showZero:!0,inBarValue:!1,inBarValueTextColor:"white",inBarValueMinTopMargin:1,inBarValueRightMargin:4,rightAxisBar:!1},d.prototype.calc=function(){var t;if(this.calcBars(),!1===this.options.hideHover)return(t=this.hover).update.apply(t,this.hoverContentForRow(this.data.length-1))},d.prototype.calcBars=function(){for(var o,n,h,t,i=this.data,s=[],e=t=0,r=i.length;t<r;e=++t)(n=i[e])._x=this.xStart+this.xSize*(e+.5)/this.data.length,n._y=function(){var t,i,s=n.y,e=[];for(o=t=0,i=s.length;t<i;o=++t)h=s[o],o<this.options.ykeys.length-this.options.nbYkeys2?null!=h?e.push(this.transY(h)):e.push(null):e.push(void 0);return e}.call(this),s.push(n._y2=function(){var t,i,s=n.y,e=[];for(o=t=0,i=s.length;t<i;o=++t)h=s[o],o>=this.options.ykeys.length-this.options.nbYkeys2?null!=h?e.push(this.transY2(h)):e.push(null):e.push(void 0);return e}.call(this));return s},d.prototype.draw=function(){var t;if(!0!==(t=this.options.axes)&&"both"!==t&&"x"!==t||this.drawXAxis(),this.drawSeries(),!1===this.options.rightAxisBar)return this.drawBarLine(),this.drawBarPoints()},d.prototype.drawBarLine=function(){for(var t,i,s,e,o,n,h,r,a,l,p,u,d,c,y,f,g=this.options.ykeys.length-this.options.nbYkeys2,m=this.options.ykeys.slice(g,this.options.ykeys.length),x=[],v=d=0,b=m.length;d<b;v=d+=1){for(m[v],u=r="",i=(!1===this.options.horizontal?function(){for(var t=this.data,i=[],s=0,e=t.length;s<e;s++)void 0!==(l=t[s])._y2[g+v]&&i.push({x:l._x,y:l._y2[g+v]});return i}:function(){for(var t=this.data,i=[],s=0,e=t.length;s<e;s++)void 0!==(l=t[s])._y2[g+v]&&i.push({x:l._y2[g+v],y:l._x});return i}).call(this),this.options.smooth&&(e=z.Line.gradients(i)),a={y:null},o=c=0,y=i.length;c<y;o=++c)null!=(t=i[o]).y&&(null!=a.y?(this.options.smooth&&!1===this.options.horizontal?(s=e[o],h=e[o-1],n=(t.x-a.x)/4,r+="C"+(a.x+n)+","+Math.min(this.bottom,a.y+n*h)+","+(t.x-n)+","+Math.min(this.bottom,t.y-n*s)+","+t.x+","+t.y):r+="L"+t.x+","+t.y,!0===this.options.horizontal?u+="L"+this.transY(0)+","+t.y:u+="L"+t.x+","+this.transY(0)):this.options.smooth&&null==e[o]||(r+="M"+t.x+","+t.y,!0===this.options.horizontal?u+="M"+this.transY(0)+","+t.y:u+="M"+t.x+","+this.transY(0))),a=t;""!==r?this.options.animate?(p=this.raphael.path(u).attr("stroke",this.colorFor(t,g+v,"bar")).attr("stroke-width",this.lineWidthForSeries(v)),x.push((f=r,p.animate({path:f},500,"<>")))):x.push(p=this.raphael.path(r).attr("stroke",this.colorFor(t,g+v,"bar")).attr("stroke-width",this.lineWidthForSeries(v))):x.push(void 0)}return x},d.prototype.drawBarPoints=function(){var o,n,h,r,t,i,s,e,a=this.options.ykeys.length-this.options.nbYkeys2;for(this.seriesPoints=[],s=this.options.ykeys.slice(a,this.options.ykeys.length),e=[],h=t=0,i=s.length;t<i;h=t+=1)s[h],this.seriesPoints[h]=[],e.push(function(){var t,i,s=this.data,e=[];for(n=t=0,i=s.length;t<i;n=++t)r=s[n],(o=null)!=r._y2[a+h]?(o=(!1===this.options.horizontal?this.raphael.circle(r._x,r._y2[a+h],this.pointSizeForSeries(h)):this.raphael.circle(r._y2[a+h],r._x,this.pointSizeForSeries(h))).attr("fill",this.colorFor(r,a+h,"bar")).attr("stroke-width",1).attr("stroke","#ffffff"),e.push(this.seriesPoints[h].push(o))):e.push(void 0);return e}.call(this));return e},d.prototype.lineWidthForSeries=function(t){return this.options.lineWidth instanceof Array?this.options.lineWidth[t%this.options.lineWidth.length]:this.options.lineWidth},d.prototype.pointSizeForSeries=function(t){return this.options.pointSize instanceof Array?this.options.pointSize[t%this.options.pointSize.length]:this.options.pointSize},d.prototype.drawXAxis=function(){for(var t,i,s,e,o,n,h,r,a=this.options.horizontal?this.getYAxisLabelX():this.getXAxisLabelY(),l=null,p=null,u=[],d=h=0,c=this.data.length;0<=c?h<c:c<h;d=0<=c?++h:--h)s=this.data[this.data.length-1-d],s=this.options.horizontal?this.drawYAxisLabel(a,s._x-.5*this.options.gridTextSize,s.label,1):this.drawXAxisLabel(s._x,a,s.label),t=this.options.horizontal?0:this.options.xLabelAngle,r=s.getBBox(),s.transform("r"+-t),i=s.getBBox(),s.transform("t0,"+i.height/2+"..."),0!==t&&(r=-.5*r.width*Math.cos(t*Math.PI/180),s.transform("t"+r+",0...")),n=(r=z.dimensions(this.el)).width,r=r.height,r=this.options.horizontal?(o=i.y,e=i.height,r):(o=i.x,e=i.width,n),(null==l||o+e<=l||null!=p&&o<=p)&&0<=o&&o+e<r?(0!==t&&(p=o-1.25*this.options.gridTextSize/Math.sin(t*Math.PI/180)),this.options.horizontal?u.push(l=o):u.push(l=o-this.options.xLabelMargin)):u.push(s.remove());return u},d.prototype.getXAxisLabelY=function(){return this.bottom+(this.options.xAxisLabelTopPadding||this.options.padding/2)},d.prototype.drawSeries=function(){var o,n,h,t,r,a,l,p,u,i,d,c,y,s,f,g,m,e,x;if(this.seriesBars=[],h=this.xSize/this.options.data.length,this.options.stacked)i=1;else for(t=e=i=0,x=this.options.ykeys.length-1;0<=x?e<=x:x<=e;t=0<=x?++e:--e)this.hasToShow(t)&&(i+=1);return!1===this.options.stacked&&!1===this.options.rightAxisBar&&(i-=this.options.nbYkeys2),o=(h*this.options.barSizeRatio-this.options.barGap*(i-1))/i,this.options.barSize&&(o=Math.min(o,this.options.barSize)),s=h-o*i-this.options.barGap*(i-1),p=s/2,m=this.ymin<=0&&0<=this.ymax?this.transY(0):null,this.bars=function(){var t,i,s=this.data,e=[];for(r=t=0,i=s.length;t<i;r=++t)d=s[r],this.data[r].label_x=[],this.data[r].label_y=[],this.seriesBars[r]=[],u=!(a=null)===this.options.rightAxisBar?d._y.length:d._y.length-this.options.nbYkeys2,e.push(function(){var t,i,s=d._y.slice(0,u),e=[];for(c=t=0,i=s.length;t<i;c=++t)g=s[c],null!=d._y[c]?g=d._y[c]:null!=d._y2[c]&&(g=d._y2[c]),this.hasToShow(c)&&(null!==g?(g=m?(f=Math.min(g,m),Math.max(g,m)):(f=g,this.bottom),l=this.xStart+r*h+p,this.options.stacked||(l+=c*(o+this.options.barGap)),y=g-f,this.options.verticalGridCondition&&this.options.verticalGridCondition(d.x)&&(this.options.horizontal?this.drawBar(this.yStart,this.xStart+r*h,this.ySize,h,this.options.verticalGridColor,this.options.verticalGridOpacity,this.options.barRadius):this.drawBar(this.xStart+r*h,this.yEnd,h,this.ySize,this.options.verticalGridColor,this.options.verticalGridOpacity,this.options.barRadius)),this.options.horizontal?(this.options.stacked&&null!=a&&(f=a),a=f+y,0===y&&(y=1),this.seriesBars[r][c]=this.drawBar(f,l,y,o,this.colorFor(d,c,"bar"),this.options.barOpacity,this.options.barRadius),this.options.dataLabels&&(this.options.stacked||"inside"===this.options.dataLabelsPosition?this.data[r].label_x[c]=f+y/2:this.data[r].label_x[c]=f+y+5,this.data[r].label_y[c]=l+o/2),this.options.inBarValue&&o>this.options.gridTextSize+2*this.options.inBarValueMinTopMargin?(n=l+.5*o,e.push(this.raphael.text(g-this.options.inBarValueRightMargin,n,this.yLabelFormat(d.y[c],c)).attr("font-size",this.options.gridTextSize).attr("font-family",this.options.gridTextFamily).attr("font-weight",this.options.gridTextWeight).attr("fill",this.options.inBarValueTextColor).attr("text-anchor","end"))):e.push(void 0)):(this.options.stacked&&null!=a&&(f+=a-g),a=f,0===y&&this.options.showZero&&(y=1),this.seriesBars[r][c]=this.drawBar(l,f,o,y,this.colorFor(d,c,"bar"),this.options.barOpacity,this.options.barRadius),this.options.dataLabels?(n="inside"===this.options.dataLabelsPosition||this.options.stacked&&"force_outside"!==this.options.dataLabelsPosition?y/2:-7,y>this.options.dataLabelsSize||!this.options.stacked||"force_outside"===this.options.dataLabelsPosition?(this.data[r].label_x[c]=l+o/2,e.push(this.data[r].label_y[c]=f+n)):e.push(void 0)):e.push(void 0))):e.push(null));return e}.call(this));return e}.call(this)},d.prototype.hilight=function(t){var i,s,e,o,n,h,r,a;if(this.seriesBars&&this.seriesBars[this.prevHilight]&&null!==this.prevHilight&&this.prevHilight!==t)for(i=e=0,n=(r=this.seriesBars[this.prevHilight]).length;e<n;i=++e)(s=r[i])&&s.animate({"fill-opacity":this.options.barOpacity},this.options.highlightSpeed);if(this.seriesBars&&this.seriesBars[t]&&null!==t&&this.prevHilight!==t)for(i=o=0,h=(a=this.seriesBars[t]).length;o<h;i=++o)(s=a[i])&&s.animate({"fill-opacity":this.options.barHighlightOpacity},this.options.highlightSpeed);return this.prevHilight=t},d.prototype.colorFor=function(t,i,s){var e;return"function"==typeof this.options.barColors?(t={x:t.x,y:t.y[i],label:t.label,src:t.src},e={index:i,key:this.options.ykeys[i],label:this.options.labels[i]},this.options.barColors.call(this,t,e,s)):this.options.barColors[i%this.options.barColors.length]},d.prototype.hitTest=function(t,i){return 0===this.data.length?null:(i=this.options.horizontal?i+document.body.getBoundingClientRect().top:t,i=Math.max(Math.min(i,this.xEnd),this.xStart),Math.min(this.data.length-1,Math.floor((i-this.xStart)/(this.xSize/this.data.length))))},d.prototype.onGridClick=function(t,i){var s=this.hitTest(t,i);return this.fire("click",s,this.data[s].src,t,i)},d.prototype.onHoverMove=function(t,i){t=this.hitTest(t,i);return this.hilight(t),null!=t?(i=this.hover).update.apply(i,this.hoverContentForRow(t)):this.hover.hide()},d.prototype.onHoverOut=function(){if(this.hilight(-1),!1!==this.options.hideHover)return this.hover.hide()},d.prototype.escapeHTML=function(t){var i={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"};return t.replace(/[&<>"'/]/gi,function(t){return i[t]})},d.prototype.hoverContentForRow=function(t){for(var i,s,e,o,n,h=this.data[t],r="<div class='morris-hover-row-label'>"+this.escapeHTML(h.label)+"</div>",a=[],l=h.y,p=e=0,u=l.length;e<u;p=++e)s=l[p],a.unshift(s);for(p=o=0,n=a.length;o<n;p=++o)s=a[p],i=h.y.length-1-p,!1!==this.options.labels[i]&&(r+="<div class='morris-hover-point' style='color: "+this.colorFor(h,i,"label")+"'>\n  "+this.options.labels[i]+":\n  "+this.yLabelFormat(s,i)+"\n</div>");return"function"==typeof this.options.hoverCallback&&(r=this.options.hoverCallback(t,this.options,r,h.src)),this.options.horizontal?[r,this.left+.5*this.width,s=this.top+(t+.5)*this.height/this.data.length,!0]:[r,this.left+(t+.5)*this.width/this.data.length]},d.prototype.drawBar=function(t,i,s,e,o,n,h){var r=Math.max.apply(Math,h),r=this.options.animate?this.options.horizontal?0===r||e<r?this.raphael.rect(this.transY(0),i,0,e).animate({x:t,width:s},500):this.raphael.path(this.roundedRect(this.transY(0),i+e,s,0,h).animate({y:i,height:e},500)):0===r||e<r?this.raphael.rect(t,this.transY(0),s,0).animate({y:i,height:e},500):this.raphael.path(this.roundedRect(t,this.transY(0),s,0,h).animate({y:i,height:e},500)):0===r||e<r?this.raphael.rect(t,i,s,e):this.raphael.path(this.roundedRect(t,i,s,e,h));return r.attr("fill",o).attr("fill-opacity",n).attr("stroke","none")},d.prototype.roundedRect=function(t,i,s,e,o){return["M",t,(o=null==o?[0,0,0,0]:o)[0]+i,"Q",t,i,t+o[0],i,"L",t+s-o[1],i,"Q",t+s,i,t+s,i+o[1],"L",t+s,i+e-o[2],"Q",t+s,i+e,t+s-o[2],i+e,"L",t+o[3],i+e,"Q",t,i+e,t,i+e-o[3],"Z"]},d),z.Donut=(e=z.EventEmitter,t(c,e),c.prototype.defaults={colors:["#2f7df6","#53a351","#f6c244","#cb444a","#4aa0b5","#222529","#44a1f8","#81d453","#f0bb40","#eb3f25","#b45184","#5f5f5f"],backgroundColor:"#FFFFFF",labelColor:"#000000",padding:0,formatter:z.commas,resize:!0,dataLabels:!1,dataLabelsPosition:"inside",dataLabelsFamily:"sans-serif",dataLabelsSize:12,dataLabelsWeight:"normal",dataLabelsColor:"auto",noDataLabel:"No data for this chart",noDataLabelSize:21,noDataLabelWeight:"bold",donutType:"donut",animate:!0,showPercentage:!1,postUnits:"",preUnits:""},c.prototype.destroy=function(){if(this.options.resize)return window.clearTimeout(this.timeoutId),z.off(window,"resize",this.resizeHandler)},c.prototype.redraw=function(){var t,i,s,e,o,n,h,r,a,l,p,u,d,c,y,f,g,m,x,v,b,w,L,M,_,k,S,F;for(this.raphael.clear(),i=(M=z.dimensions(this.el)).width/2,s=(e=M.height)/2,g=(Math.min(i,s)-10)/3-this.options.padding,m=y=0,b=(_=this.values).length;m<b;m++)y+=f=_[m];for(this.options.total=y,l=5/(2*g),t=1.9999*Math.PI-l*this.data.length,n=r=0,this.segments=[],0===y&&(y=1),o=x=0,w=(k=this.values).length;x<w;o=++x)f=k[o],(c=new z.DonutSegment(i,s,2*g,g,r,p=r+l+f/y*t,this.data[o].color||this.options.colors[n%this.options.colors.length],this.options.backgroundColor,n,this.raphael,this.options)).render(),this.segments.push(c),c.on("hover",this.select),c.on("click",this.click),c.on("mouseout",this.deselect),c=parseFloat(c.raphael.height)>parseFloat(e)?2*e-7*this.options.padding:c.raphael.height-7*this.options.padding,void 0===this.options.data[o].ratio&&(this.options.data[o].ratio=1),c*=this.options.data[o].ratio,this.options.dataLabels&&1<=this.values.length&&(d=Math.sin((r+p)/2),u=Math.cos((r+p)/2),d="inside"===this.options.dataLabelsPosition?"pie"===this.options.donutType?(h=parseFloat(i)+parseFloat(.3*c*d),parseFloat(s)+parseFloat(.3*c*u)):(h=parseFloat(i)+parseFloat(.39*c*d),parseFloat(s)+parseFloat(.39*c*u)):(h=parseFloat(i)+parseFloat(.5*(c-9)*d),parseFloat(s)+parseFloat(.5*(c-9)*u)),c="auto"!==this.options.dataLabelsColor?this.options.dataLabelsColor:"inside"===this.options.dataLabelsPosition&&!0===this.isColorDark(this.options.colors[o])?"#fff":"#000",this.options.showPercentage?(u=Math.round(parseFloat(f)/parseFloat(y)*100)+"%",this.drawDataLabelExt(h,d,u,c)):this.drawDataLabelExt(h,d,this.options.preUnits+f+this.options.postUnits,c)),r=p,n+=1;if(this.text1=this.drawEmptyDonutLabel(i,s-10,this.options.labelColor,15,800),this.text2=this.drawEmptyDonutLabel(i,10+s,this.options.labelColor,14),a=Math.max.apply(Math,this.values),n=0,"donut"===this.options.donutType){for(F=[],v=0,L=(S=this.values).length;v<L;v++){if((f=S[v])===a){this.select(n);break}F.push(n+=1)}return F}},c.prototype.setData=function(t){var o;return this.data=t,this.values=function(){for(var t=this.data,i=[],s=0,e=t.length;s<e;s++)o=t[s],i.push(parseFloat(o.value));return i}.call(this),this.redraw()},c.prototype.drawDataLabel=function(t,i,s,e){return this.raphael.text(t,i,s).attr("text-anchor","middle").attr("font-size",this.options.dataLabelsSize).attr("font-family",this.options.dataLabelsFamily).attr("font-weight",this.options.dataLabelsWeight).attr("fill",this.options.dataLabelsColor)},c.prototype.drawDataLabelExt=function(t,i,s,e){var o=1<=this.values.length||"inside"===this.options.dataLabelsPosition?"middle":t>this.raphael.width/2?"start":t>.55*this.raphael.width&&t<.45*this.raphael.width?"middle":"end";return this.raphael.text(t,i,s,e).attr("text-anchor",o).attr("font-size",this.options.dataLabelsSize).attr("font-family",this.options.dataLabelsFamily).attr("font-weight",this.options.dataLabelsWeight).attr("fill",e)},c.prototype.click=function(t){return this.fire("click",t,this.data[t])},c.prototype.select=function(t){for(var i,s=this.segments,e=0,o=s.length;e<o;e++)s[e].deselect();if(this.segments[t].select(),t=this.data[t],"donut"===this.options.donutType)return this.options.showPercentage&&!this.options.dataLabels?(i=Math.round(parseFloat(t.value)/parseFloat(this.options.total)*100)+"%",this.setLabels(t.label,i)):this.setLabels(t.label,this.options.formatter(t.value,t))},c.prototype.deselect=function(t){for(var i,s=this.segments,e=[],o=0,n=s.length;o<n;o++)i=s[o],e.push(i.deselect());return e},c.prototype.isColorDark=function(t){return null!=t&&(t=t.substring(1),!(128<=.2126*((t=parseInt(t,16))>>16&255)+.7152*(t>>8&255)+.0722*(t>>0&255)))},c.prototype.setLabels=function(t,i){var s=z.dimensions(this.el),e=s.width,s=s.height,e=2*(Math.min(e/2,s/2)-10)/3,s=1.8*e,o=e/2,e=e/3;return this.text1.attr({text:t,transform:""}),t=this.text1.getBBox(),o=Math.min(s/t.width,o/t.height),this.text1.attr({transform:"S"+o+","+o+","+(t.x+t.width/2)+","+(t.y+t.height)}),this.text2.attr({text:i,transform:""}),o=this.text2.getBBox(),t=Math.min(s/o.width,e/o.height),this.text2.attr({transform:"S"+t+","+t+","+(o.x+o.width/2)+","+o.y})},c.prototype.drawEmptyDonutLabel=function(t,i,s,e,o){t=this.raphael.text(t,i,"").attr("font-size",e).attr("fill",s);return null!=o&&t.attr("font-weight",o),t},c.prototype.resizeHandler=function(){return null!=this.timeoutId&&window.clearTimeout(this.timeoutId),this.timeoutId=window.setTimeout(this.debouncedResizeHandler,100)},c.prototype.debouncedResizeHandler=function(){var t,i;return this.timeoutId=null,t=(i=z.dimensions(this.el)).width,i=i.height,this.raphael.setSize(t,i),this.options.animate=!1,this.redraw()},c),z.DonutSegment=(e=z.EventEmitter,t(y,e),y.prototype.calcArcPoints=function(t){return[this.cx+t*this.sin_p0,this.cy+t*this.cos_p0,this.cx+t*this.sin_p1,this.cy+t*this.cos_p1]},y.prototype.calcSegment=function(t,i){var s=this.calcArcPoints(t),e=s[0],o=s[1],n=s[2],s=s[3],h=this.calcArcPoints(i),r=h[0],a=h[1],l=h[2],h=h[3];return"pie"===this.options.donutType?"M"+r+","+a+"A"+i+","+i+",0,"+this.is_long+",0,"+l+","+h+"L"+this.cx+","+this.cy+"Z":"M"+e+","+o+"A"+t+","+t+",0,"+this.is_long+",0,"+n+","+s+"L"+l+","+h+"A"+i+","+i+",0,"+this.is_long+",1,"+r+","+a+"Z"},y.prototype.calcArc=function(t){var i=this.calcArcPoints(t),s=i[0],e=i[1],o=i[2],i=i[3];return"M"+s+","+e+"A"+t+","+t+",0,"+this.is_long+",0,"+o+","+i},y.prototype.render=function(){var t=this;if(/NaN/.test(this.hilight)||(this.arc=this.drawDonutArc(this.hilight,this.color)),!/NaN/.test(this.path))return this.seg=this.drawDonutSegment(this.path,this.color,this.backgroundColor,function(){return t.fire("hover",t.index)},function(){return t.fire("click",t.index)},function(){return t.fire("mouseout",t.index)})},y.prototype.drawDonutArc=function(t,i){return this.options.animate?this.raphael.path("M"+this.cx+","+this.cy+"Z").attr({stroke:i,"stroke-width":2,opacity:0}).animate({path:t},500,"<>"):this.raphael.path(t).attr({stroke:i,"stroke-width":2,opacity:0})},y.prototype.drawDonutSegment=function(t,i,s,e,o,n){var h,r;return this.options.animate&&"pie"===this.options.donutType?(h=(r=(r=(r=(r=(r=t).replace("A",",")).replace("M","")).replace("C",",")).replace("Z","")).split(","),r="pie"===this.options.donutType?"M"+h[0]+","+h[1]+","+h[h.length-2]+","+h[h.length-1]+","+h[h.length-2]+","+h[h.length-1]+"Z":"M"+h[0]+","+h[1]+","+h[h.length-2]+","+h[h.length-1]+"Z",this.raphael.path(r).attr({fill:i,stroke:s,"stroke-width":3}).hover(e).click(o).mouseout(n).animate({path:t},500,"<>")):"pie"===this.options.donutType?this.raphael.path(t).attr({fill:i,stroke:s,"stroke-width":3}).hover(e).click(o).mouseout(n):this.raphael.path(t).attr({fill:i,stroke:s,"stroke-width":3}).hover(e).click(o)},y.prototype.select=function(){if(!this.selected&&null!=this.seg)return this.seg.animate({path:this.selectedPath},150,"<>"),this.arc.animate({opacity:1},150,"<>"),this.selected=!0},y.prototype.deselect=function(){if(this.selected)return this.seg.animate({path:this.path},150,"<>"),this.arc.animate({opacity:0},150,"<>"),this.selected=!1},y)}.call(this);
//# sourceMappingURL=morris.min.js.map